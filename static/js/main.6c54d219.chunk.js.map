{"version":3,"sources":["utils.js","WebAPI.js","pages/HomePage/HomePage.js","context.js","pages/LoginPage/LoginPage.js","pages/RegisterPage/RegisterPage.js","components/Header/Header.js","pages/PostPage/PostPage.js","pages/NewPostPage/NewPostPage.js","pages/PostListPage/PostListPage.js","pages/AboutPage/AboutPage.js","components/App/App.js","index.js"],"names":["TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getPosts","fetch","then","res","json","getMe","headers","Root","styled","div","PostContainer","PostTitle","Link","PostDate","Loading","Post","post","to","id","title","Date","createdAt","toLocaleString","HomePage","useState","posts","setPosts","isLoading","setIsLoading","useEffect","map","AuthContext","createContext","FormContainer","FormBlock","form","FormTitle","h1","FormInput","input","SubmitButton","button","Error","LoginPage","setUser","useContext","username","setUsername","password","setPassword","errorMessage","setErrorMessage","history","useHistory","onSubmit","method","body","JSON","stringify","login","data","ok","message","response","toString","push","value","onChange","e","target","type","RegisterPage","nickname","setNickname","register","HeaderContainer","Brand","NavbarList","Nav","props","$active","LeftContainer","Header","callGetMe","location","useLocation","user","pathname","onClick","PostHead","PostBody","PostPage","setPost","useParams","getPost","FormItem","FormTextArea","textarea","NewPostPage","setTitle","setBody","newPost","cols","rows","PageBlock","Home","PageUp","PageDown","End","PageNumber","Page","page","setPage","totalPages","changePage","PostListPage","postNumber","setPostNumber","Math","ceil","length","postPerPage","getPostsList","AboutContainer","AboutHead","AboutBody","AboutPage","App","useLayoutEffect","Provider","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6c54d219.chunk.js","sourcesContent":["const TOKEN_NAME = 'token'\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token)\n}\n\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME)\n}\n","import { getAuthToken } from \"./utils\"\n\nconst BASE_URL = 'https://student-json-api.lidemy.me'\n\nexport const getPosts = () => {\n  return fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc`).then((res) =>\n    res.json()\n  )\n}\n\nexport const getPost = (id) => {\n  return fetch(`${BASE_URL}/posts?id=${id}`)\n    .then((res) => \n      res.json()\n    )\n}\n\nexport const getPostsList = (postPerPage, page) => {\n  return fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc&_limit=${postPerPage}&_page=${page}`).then((res) =>\n    res.json()\n  )\n}\n\nexport const login = (username, password) => {\n  return fetch(`${BASE_URL}/login`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    })\n  })\n  .then(res => res.json())\n}\n\nexport const register = (nickname, username, password) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    })\n  })\n  .then(res => res.json())\n}\n\nexport const getMe = () => {\n  const token = getAuthToken()\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      'authorization': `Bearer ${token}`\n    },\n  })\n  .then(res => res.json())\n}\n\nexport const newPost = (title, body) => {\n  let token = null\n  if(getAuthToken()) {\n    token = getAuthToken()\n  }\n  return fetch(`${BASE_URL}/posts`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n      'authorization': `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    })\n  })\n  .then(res => res.json())\n}","import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport {getPosts} from '../../WebAPI';\nimport {Link} from \"react-router-dom\";\n\nconst Root = styled.div`\n  max-width: 800px;\n  margin: 0 auto;\n`\n\nconst PostContainer = styled.div`\n  border-bottom: 1px solid rgba(12, 34, 56, 0.2);\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n`\n\nconst PostTitle = styled(Link)`\n  font-size: 24px;\n  color: #333;\n  text-decoration: none;\n`\n\nconst PostDate = styled.div`\n  color: rgba(0, 0, 0, 0.2);\n`\n\nconst Loading = styled.div`\n  display: flex;\n  position: fixed;\n  justify-content: center;\n  top: 100px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  font-size: 36px;\n`\n\nfunction Post({post}) {\n  return (\n    <PostContainer>\n      <PostTitle to={`/post/${post.id}`}>{post.title}</PostTitle>\n      <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n    </PostContainer>\n  )\n}\n\nexport default function HomePage() {\n  const [posts, setPosts] = useState([])\n  const [isLoading, setIsLoading] = useState(true)\n  useEffect(() => {\n    getPosts().then((posts) => setPosts(posts))\n    setIsLoading(false)\n  }, [posts])\n  return (\n    <Root>\n      {isLoading && <Loading>Loading...</Loading>}\n      {posts.map((post) => (\n        <Post key={post.id} post={post} />\n      ))}\n    </Root>\n  )\n}","import {createContext} from 'react'\n\nexport const AuthContext = createContext(null)","import React, {useContext, useState} from 'react';\nimport styled from 'styled-components';\nimport { setAuthToken } from '../../utils';\nimport {getMe, login} from '../../WebAPI';\nimport {useHistory} from \"react-router-dom\";\nimport { AuthContext } from '../../context';\n\nconst FormContainer = styled.div`\n  margin: 100px auto;\n  width: 550px;\n}\n`\n\nconst FormBlock = styled.form`\n  width: 450px;\n  height: 300px;\n  padding: 60px;\n  border: solid 1px #000000;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst FormTitle = styled.h1`\n  font-size: 36px;\n  text-align: center;\n`\n\nconst FormInput = styled.input`\n  border: solid 1px #d0d0d0;\n  width: 287px;\n  height: 23px;\n  margin: 10px 20px;\n`;\n\nconst SubmitButton = styled.button`\n  width: 92px;\n  height: 40px;\n  border-radius: 3px;\n  background-color: black;\n  color: white;\n  font-size: 15px;\n  margin-top: 20px;\n`;\n\nconst Error = styled.div`\n  color: red;\n`\n\nexport default function LoginPage() {\n  const {setUser} = useContext(AuthContext)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMessage, setErrorMessage] = useState()\n  const history = useHistory()\n\n  const handleSubmit = () => {\n    setErrorMessage(null)\n    login(username, password).then((data) => {\n      if(data.ok === 0) {\n        return setErrorMessage(data.message)\n      }\n      setAuthToken(data.token)\n\n      getMe().then((response) => {\n        if(response.ok !== 1) {\n          setAuthToken(null)\n          return setErrorMessage(response.toString())\n        }\n        setUser(response.data)\n        history.push(\"/\")\n      })\n    })\n  }\n  return (\n    <FormContainer>\n      <FormBlock onSubmit={handleSubmit}>\n        <FormTitle>登入</FormTitle>\n        <div>\n          Username:\n          <FormInput value={username} onChange={(e) => setUsername(e.target.value)} />\n        </div>\n        <div>\n          Password:\n          <FormInput type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n        </div>\n        <SubmitButton>登入</SubmitButton>\n        {errorMessage && <Error>{errorMessage}</Error>}\n      </FormBlock>\n    </FormContainer>\n  )\n}","import React, {useContext, useState} from 'react';\nimport styled from 'styled-components';\nimport { setAuthToken } from '../../utils';\nimport {getMe, register} from '../../WebAPI';\nimport {useHistory} from \"react-router-dom\";\nimport { AuthContext } from '../../context';\n\nconst FormContainer = styled.div`\n  margin: 100px auto;\n  width: 550px;\n}\n`\n\nconst FormBlock = styled.form`\n  width: 450px;\n  height: 300px;\n  padding: 60px;\n  border: solid 1px #000000;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst FormTitle = styled.h1`\n  font-size: 36px;\n  text-align: center;\n`\n\nconst FormInput = styled.input`\n  border: solid 1px #d0d0d0;\n  width: 287px;\n  height: 23px;\n  margin: 10px 20px;\n`;\n\nconst SubmitButton = styled.button`\n  width: 92px;\n  height: 40px;\n  border-radius: 3px;\n  background-color: black;\n  color: white;\n  font-size: 15px;\n  margin-top: 20px;\n`;\n\nconst Error = styled.div`\n  color: red;\n`\n\nexport default function RegisterPage() {\n  const {setUser} = useContext(AuthContext)\n  const [nickname, setNickname] = useState('')\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMessage, setErrorMessage] = useState()\n  const history = useHistory()\n\n  const handleSubmit = () => {\n    setErrorMessage(null)\n    register(nickname, username, password).then((data) => {\n      if(data.ok === 0){\n        return setErrorMessage(data.message)\n      }\n      setAuthToken(data.token)\n\n      getMe().then((response) => {\n        if(data.ok !== 1){\n          setAuthToken(null)\n          return setErrorMessage(response.toString())\n        }\n        setUser(response.data)\n        history.push(\"/\")\n      })\n    })\n  }\n  return (\n    <FormContainer>\n      <FormBlock onSubmit={handleSubmit}>\n        <FormTitle>註冊</FormTitle>\n        <div>\n          Username:\n          <FormInput value={username} onChange={(e) => setUsername(e.target.value)} />\n        </div>\n        <div>\n          Password:\n          <FormInput type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n        </div>\n        <div>\n          Nickname:\n          <FormInput value={nickname} onChange={(e) => setNickname(e.target.value)} />\n        </div>\n        <SubmitButton>註冊</SubmitButton>\n        {errorMessage && <Error>{errorMessage}</Error>}\n      </FormBlock>\n    </FormContainer>\n  )\n}","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport {Link, useHistory, useLocation} from \"react-router-dom\";\nimport { AuthContext } from '../../context';\nimport { setAuthToken } from '../../utils';\n\nconst HeaderContainer = styled.div`\n  background: white;\n  height: 64px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n  padding: 0 32px;\n`\n\nconst Brand = styled(Link)`\n  font-size: 28px;\n  color: black;\n  text-decoration: none;\n  font-weight: bold;\n`\n\nconst NavbarList = styled.div`\n  display: flex;\n  align-items: center;\n  height: 64px;\n`\n\nconst Nav = styled(Link)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100px;\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n\n  ${(props) => props.$active && `background: rgba(0, 0, 0, 0.1);`}\n`\n\nconst LeftContainer = styled.div`\n  display: flex;\n  align-items: center;\n  ${NavbarList} {\n    margin-left: 64px;\n  }\n`\n\nexport default function Header({callGetMe}) {\n  const location = useLocation()\n  const {user, setUser} = useContext(AuthContext)\n  const history = useHistory()\n\n  const handleLogout = () => {\n    setAuthToken('')\n    setUser(null)\n    if(location.pathname !== \"/\") {\n      history.push(\"/\")\n    }\n  }\n  return (\n    <HeaderContainer>\n      <LeftContainer>\n        <Brand to=\"/\" $active={location.pathname === '/'}>Derek's Blog</Brand>\n        <NavbarList>\n          \n          <Nav to=\"/post-list\" $active={location.pathname === '/post-list'}>文章列表</Nav>\n          {user && <Nav to=\"/new-post\" $active={location.pathname === '/new-post'}>發布文章</Nav>}\n          <Nav to=\"/about\" $active={location.pathname === '/about'}>關於我</Nav>\n        </NavbarList>\n      </LeftContainer>\n      <NavbarList>\n        <Nav to=\"/register\" $active={location.pathname === '/register'}>註冊</Nav>\n        {!user && <Nav to=\"/login\" $active={location.pathname === '/login'}>登入</Nav>}\n        {user && <Nav onClick={handleLogout}>登出</Nav>}\n      </NavbarList>\n    </HeaderContainer>\n  )\n}\n","import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport {getPost} from '../../WebAPI';\nimport {useParams} from \"react-router-dom\";\n\nconst Root = styled.div`\n  max-width: 800px;\n  margin: 64px auto;\n`\n\nconst PostContainer = styled.div`\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`\n\nconst PostHead = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  border-bottom: 1px solid rgba(12, 34, 56, 0.2);\n  padding: 20px;\n`\n\nconst PostTitle = styled.div`\n  font-size: 24px;\n  color: #333;\n  text-decoration: none;\n`\n\nconst PostDate = styled.div`\n  color: rgba(0, 0, 0, 0.2);\n`\n\nconst PostBody = styled.div`\n  \n`\n\nconst Loading = styled.div`\n  display: flex;\n  position: fixed;\n  justify-content: center;\n  top: 100px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  font-size: 36px;\n`\n\nfunction Post({post}) {\n  return (\n    <PostContainer>\n      <PostHead>\n        <PostTitle>{post.title}</PostTitle>\n        <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n      </PostHead>\n      <PostBody>{post.body}</PostBody>\n    </PostContainer>\n  )\n}\n\nexport default function PostPage() {\n  const [post, setPost] = useState([])\n  const [isLoading, setIsLoading] = useState(true)\n  let {id} = useParams()\n  useEffect(() => {\n    getPost(id).then(data => {\n      setPost(data)\n    })\n    setIsLoading(false)\n  }, [id])\n  \n  return (\n    <Root>\n      {isLoading && <Loading>Loading...</Loading>}\n      {post.map((data, id) => (\n        <Post key={id} post={data}/>\n      ))}\n    </Root>\n  )\n}","import React, {useState} from 'react';\nimport styled from 'styled-components';\nimport {newPost} from '../../WebAPI';\nimport {useHistory} from \"react-router-dom\";\n\nconst FormContainer = styled.div`\n  margin: 100px auto;\n  width: 550px;\n}\n`\n\nconst FormBlock = styled.form`\n  width: 450px;\n  height: 400px;\n  padding: 60px;\n  border: solid 1px #000000;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`\n\nconst FormTitle = styled.h1`\n  font-size: 36px;\n  text-align: center;\n`\n\nconst FormItem = styled.div`\n  display: flex;\n  \n`\n\nconst FormInput = styled.input`\n  border: solid 1px #d0d0d0;\n  width: 287px;\n  height: 23px;\n  margin: 10px 20px;\n`;\n\nconst FormTextArea = styled.textarea`\n  border: solid 1px #d0d0d0;\n  margin: 10px 20px;\n`\n\nconst SubmitButton = styled.button`\n  width: 92px;\n  height: 40px;\n  border-radius: 3px;\n  background-color: black;\n  color: white;\n  font-size: 15px;\n  margin-top: 20px;\n`;\n\nconst Error = styled.div`\n  color: red;\n`\n\nexport default function NewPostPage() {\n  const [title, setTitle] = useState('')\n  const [body, setBody] = useState('')\n  const [errorMessage, setErrorMessage] = useState()\n  const history = useHistory()\n\n  const handleSubmit = () => {\n    setErrorMessage(null)\n    newPost(title, body).then((data) => {\n      if(data.ok !== 1){\n        return setErrorMessage(data.message)\n      }\n    })\n    history.push(\"/\")\n  }\n  return (\n    <FormContainer>\n      <FormBlock onSubmit={handleSubmit}>\n        <FormTitle>新增文章</FormTitle>\n        <div>\n          Title:\n          <FormInput value={title} onChange={(e) => setTitle(e.target.value)} />\n        </div>\n        <FormItem>\n          Content:\n          <FormTextArea cols=\"33\" rows=\"12\" value={body} onChange={(e) => setBody(e.target.value)} />\n        </FormItem>\n        <SubmitButton>發布</SubmitButton>\n        {errorMessage && <Error>{errorMessage}</Error>}\n      </FormBlock>\n    </FormContainer>\n  )\n}","import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport {getPosts, getPostsList} from '../../WebAPI';\nimport {Link} from \"react-router-dom\";\n\nconst Root = styled.div`\n  max-width: 800px;\n  margin: 0 auto;\n`\n\nconst PostContainer = styled.div`\n  border-bottom: 1px solid rgba(12, 34, 56, 0.2);\n  padding: 16px;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n`\n\nconst PostTitle = styled(Link)`\n  font-size: 24px;\n  color: #333;\n  text-decoration: none;\n`\n\nconst PostDate = styled.div`\n  color: rgba(0, 0, 0, 0.2);\n`\n\nconst PageBlock = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 10px;\n`\n\nconst Home = styled.div`\n  cursor: pointer;\n  margin: 0 5px;\n  &:before {\n    content: \"<<\";\n  }\n`\n\nconst PageUp = styled.div`\n  cursor: pointer;\n  margin: 0 5px;\n  &:before {\n    content: \"<\";\n  }\n`\n\nconst PageDown = styled.div`\n  cursor: pointer;\n  margin: 0 5px;\n  &:before {\n    content: \">\";\n  }\n`\n\nconst End = styled.div`\n  cursor: pointer;\n  margin: 0 5px;\n  &:before {\n    content: \">>\";\n  }\n`\n\nconst PageNumber = styled.div``\n\nconst Loading = styled.div`\n  display: flex;\n  position: fixed;\n  justify-content: center;\n  top: 100px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  font-size: 36px;\n`\n\nfunction Post({post}) {\n  return (\n    <PostContainer>\n      <PostTitle to={`/post/${post.id}`}>{post.title}</PostTitle>\n      <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n    </PostContainer>\n  )\n}\n\nfunction Page({page, setPage, totalPages}) {\n  return (\n    <PageBlock>\n      <Home onClick={() => changePage('home', page, setPage, totalPages)} />\n      <PageUp onClick={() => changePage('pageup', page, setPage, totalPages)} />\n      <PageNumber>{page} / {totalPages}</PageNumber>\n      <PageDown onClick={() => changePage('pagedown', page, setPage, totalPages)} />\n      <End onClick={() => changePage('end', page, setPage, totalPages)} />\n    </PageBlock>\n  )\n}\n\nfunction changePage(target, page, setPage, totalPages) {\n  if(target === 'home') {\n    setPage(1)\n  } else if(target === 'end') {\n    setPage(totalPages)\n  } else if(target === 'pageup' && page > 1) {\n    setPage(page - 1)\n  } else if(target === 'pagedown' && page < totalPages) {\n    setPage(page + 1)\n  }\n}\n\nexport default function PostListPage() {\n  const [posts, setPosts] = useState([])\n  const [postNumber, setPostNumber] = useState(1)\n  const [page, setPage] = useState(1)\n  const [isLoading, setIsLoading] = useState(true)\n  const postPerPage = 5\n  let totalPages = Math.ceil(postNumber / postPerPage )\n\n  useEffect(() => {\n    getPosts().then((data) => setPostNumber(data.length))\n    getPostsList(postPerPage, page).then((posts) => setPosts(posts))\n    setIsLoading(false)\n  }, [page])\n\n  return (\n    <Root>\n      {isLoading && <Loading>Loading...</Loading>}\n      {posts.map((post) => (\n        <Post key={post.id} post={post} />\n      ))}\n      {!isLoading && <Page page={page} setPage={setPage} totalPages={totalPages} />}\n    </Root>\n  )\n}","import styled from 'styled-components';\n\nconst Root = styled.div`\n  max-width: 800px;\n  margin: 64px auto;\n`\n\nconst AboutContainer = styled.div`\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`\n\nconst AboutHead = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  border-bottom: 1px solid rgba(12, 34, 56, 0.2);\n  padding: 20px;\n  font-size: 24px;\n`\n\nconst AboutBody = styled.div``\n\nexport default function AboutPage() {\n  return (\n    <Root>\n      <AboutContainer>\n        <AboutHead>關於我</AboutHead>\n        <AboutBody>\n          大家好，歡迎來到我的部落格\n        </AboutBody>\n      </AboutContainer>\n    </Root>\n  )\n}","import React, {useLayoutEffect, useState} from 'react';\nimport styled from 'styled-components';\nimport {\n  HashRouter as Router,\n  Switch,\n  Route,\n} from \"react-router-dom\";\nimport HomePage from '../../pages/HomePage'\nimport LoginPage from '../../pages/LoginPage'\nimport RegisterPage from '../../pages/RegisterPage'\nimport Header from '../Header/Header'\nimport PostPage from '../../pages/PostPage'\nimport NewPostPage from '../../pages/NewPostPage'\nimport PostListPage from '../../pages/PostListPage'\nimport About from '../../pages/AboutPage'\nimport { AuthContext } from '../../context';\nimport { getMe } from '../../WebAPI';\nimport { getAuthToken } from '../../utils';\n\nconst Root = styled.div`\n  padding-top: 64px;\n`\n\nfunction App() {\n  const [user, setUser] = useState(null)\n  //這邊也可以優化當真的有token的時候再call getMe & 閃一下的問題\n  useLayoutEffect(() => {\n    const token = getAuthToken() || null\n    if(token) {\n      getMe().then((response) => {\n        if(response.ok) {\n          setUser(response.data)\n        }\n      })\n    }\n  }, [])\n\n  return (\n    <AuthContext.Provider value={{user, setUser}}>\n      <Root>\n        <Router>\n          <Header />\n          <Switch>\n            <Route exact path=\"/\">\n              <HomePage />\n            </Route>\n            <Route path=\"/register\">\n              <RegisterPage />\n            </Route>\n            <Route path=\"/login\">\n              <LoginPage />\n            </Route>\n            <Route path=\"/post-list\">\n              <PostListPage />\n            </Route>\n            <Route path=\"/post/:id\">\n              <PostPage />\n            </Route>\n            <Route path=\"/new-post\">\n              <NewPostPage />\n            </Route>\n            <Route path=\"/about\">\n              <About />\n            </Route>\n          </Switch>\n        </Router>\n      </Root>\n    </AuthContext.Provider>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}